<div
  class="bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700 mb-4"
>
  <!-- Main Search Bar -->
  <div class="flex gap-2 items-center">
    <div class="flex-1 relative">
      <input
        type="text"
        [(ngModel)]="keyword"
        (ngModelChange)="onKeywordChange($event)"
        placeholder="Search tasks by title or description..."
        class="w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 focus:outline-none focus:ring-2 focus:ring-blue-500"
      />
      <svg
        class="absolute left-3 top-2.5 h-5 w-5 text-gray-400"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"
        />
      </svg>
    </div>

    <button
      (click)="toggleAdvancedFilters()"
      class="px-4 py-2 bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-200 dark:hover:bg-gray-600 transition-colors flex items-center gap-2"
    >
      <svg
        class="h-5 w-5"
        fill="none"
        stroke="currentColor"
        viewBox="0 0 24 24"
      >
        <path
          stroke-linecap="round"
          stroke-linejoin="round"
          stroke-width="2"
          d="M12 6V4m0 2a2 2 0 100 4m0-4a2 2 0 110 4m-6 8a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4m6 6v10m6-2a2 2 0 100-4m0 4a2 2 0 110-4m0 4v2m0-6V4"
        />
      </svg>
      Filters
    </button>

    <button
      *ngIf="keyword || selectedPriority || startDate || endDate"
      (click)="clearFilters()"
      class="px-4 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg hover:bg-red-200 dark:hover:bg-red-900/50 transition-colors"
    >
      Clear
    </button>
  </div>

  <!-- Advanced Filters -->
  <div
    *ngIf="showAdvancedFilters"
    class="mt-4 pt-4 border-t border-gray-200 dark:border-gray-700 grid grid-cols-1 md:grid-cols-3 gap-4"
  >
    <!-- Priority Filter -->
    <div>
      <label
        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >Priority</label
      >
      <div class="flex gap-2">
        <button
          *ngFor="let priority of ['low', 'medium', 'high']"
          (click)="togglePriority(priority)"
          [ngClass]="{
            'bg-blue-500 text-white': selectedPriority === priority,
            'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300':
              selectedPriority !== priority,
          }"
          class="flex-1 px-3 py-1.5 rounded capitalize text-sm font-medium transition-colors hover:opacity-80"
        >
          {{ priority }}
        </button>
      </div>
    </div>

    <!-- Date Range -->
    <div>
      <label
        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >Start Date</label
      >
      <input
        type="date"
        [(ngModel)]="startDate"
        (ngModelChange)="onDateChange()"
        class="w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"
      />
    </div>

    <div>
      <label
        class="block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2"
        >End Date</label
      >
      <input
        type="date"
        [(ngModel)]="endDate"
        (ngModelChange)="onDateChange()"
        class="w-full px-3 py-1.5 border border-gray-300 dark:border-gray-600 rounded bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 text-sm"
      />
    </div>
  </div>
</div>
