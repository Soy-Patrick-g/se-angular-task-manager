<div
  class="max-w-[1200px] mx-auto my-8 p-6 bg-gray-50/50 dark:bg-gray-800/50 rounded-lg shadow-sm font-sans border border-gray-100 dark:border-gray-700 transition-colors duration-300"
>
  <!-- Progress Indicator -->
  <div class="mb-6">
    <app-progress-bar
      [total]="totalTasks"
      [completed]="completedTasks"
    ></app-progress-bar>
  </div>

  <!-- Search Bar -->
  <app-search-bar
    (filtersChanged)="onSearchFiltersChanged($event)"
  ></app-search-bar>

  <!-- Filters Toolbar -->
  <div
    class="flex justify-between items-center mb-6 bg-white dark:bg-gray-800 p-4 rounded-lg shadow-sm border border-gray-100 dark:border-gray-700"
  >
    <span class="text-sm font-medium text-gray-500 dark:text-gray-400"
      >Filter Tasks:</span
    >
    <div class="flex gap-2">
      <button
        class="border-none py-1.5 px-4 rounded-full cursor-pointer text-sm font-medium transition-all"
        [ngClass]="
          currentFilter === 'all'
            ? 'bg-blue-500 text-white'
            : 'bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'
        "
        (click)="filter('all')"
      >
        All
      </button>
      <button
        class="border-none py-1.5 px-4 rounded-full cursor-pointer text-sm font-medium transition-all"
        [ngClass]="
          currentFilter === 'active'
            ? 'bg-blue-500 text-white'
            : 'bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'
        "
        (click)="filter('active')"
      >
        Active
      </button>
      <button
        class="border-none py-1.5 px-4 rounded-full cursor-pointer text-sm font-medium transition-all"
        [ngClass]="
          currentFilter === 'completed'
            ? 'bg-blue-500 text-white'
            : 'bg-gray-100 text-gray-600 hover:bg-gray-200 dark:bg-gray-700 dark:text-gray-300 dark:hover:bg-gray-600'
        "
        (click)="filter('completed')"
      >
        Completed
      </button>
    </div>
  </div>

  <app-task-form [taskToEdit]="taskToEdit" (cancelEdit)="onCancelEdit()">
  </app-task-form>

  <div class="flex flex-col gap-4">
    <app-task-item
      *ngFor="let task of tasks$ | async"
      [task]="task"
      (edit)="onEditTask($event)"
    ></app-task-item>

    <div
      *ngIf="(tasks$ | async)?.length === 0"
      class="text-center text-gray-400 mt-8"
    >
      No tasks found.
    </div>
  </div>
</div>
